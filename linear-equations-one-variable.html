<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Practice Quiz — Linear Equations (1 Variable) | Dream School Academy</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    :root{
      --bg:#0f1420; --card:#1b2231; --ink:#e8eefc; --muted:#a9b5cc; --brand:#00d8ff;
      --good:#29c46d; --bad:#ff6b6b; --border:rgba(255,255,255,.08);
    }
    body{ background:var(--bg); color:var(--ink); }
    main{ max-width:900px; margin:0 auto; padding:24px; }
    .card{ background:var(--card); border:1px solid var(--border); border-radius:14px; padding:20px; }
    h1{ font-size:1.6rem; margin:0 0 .5rem; }
    .muted{ color:var(--muted); }
    .bar{ display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:16px; }
    .dots{ display:flex; gap:6px; flex-wrap:wrap; }
    .dot{ width:10px; height:10px; border-radius:999px; background:#44506a; opacity:.7 }
    .dot.active{ background:var(--brand); opacity:1 }
    .dot.answered{ background:#67c1ff }
    .q-stem{ font-size:1.05rem; line-height:1.55; margin-bottom:14px; }
    .choices{ display:grid; gap:10px; }
    .choice{ display:flex; gap:10px; align-items:flex-start; padding:10px 12px; border:1px solid var(--border); border-radius:10px; cursor:pointer; }
    .choice input{ margin-top:3px }
    .nav{ display:flex; gap:8px; margin-top:16px; }
    .btn{ background:var(--brand); color:#051018; border:0; border-radius:999px; padding:10px 14px; font-weight:700; cursor:pointer; }
    .btn.secondary{ background:transparent; color:var(--ink); border:1px solid var(--border); }
    .btn[disabled]{ opacity:.6; cursor:not-allowed; }
    .sr{ position:absolute; left:-9999px }
    .results h2{ margin:.3rem 0 1rem }
    .result-item{ border:1px solid var(--border); border-radius:12px; padding:14px; margin-bottom:12px; background:#141b29; }
    .tag{ font-size:.85rem; padding:2px 8px; border-radius:999px; border:1px solid var(--border); color:var(--muted) }
    .ok{ color:var(--good); font-weight:800 }
    .bad{ color:var(--bad); font-weight:800 }
    .idtag{ font-size:.85rem; color:#cdd7ee; background:#223152; padding:3px 8px; border-radius:6px; }
    .explain{ color:#d5def3 }
    .score{ font-size:1.1rem; font-weight:800; }
    .hr{ height:1px; background:var(--border); margin:16px 0; }
  </style>
</head>
<body>
  <header>
    <div class="header-container">
      <a href="index.html" class="logo-button">Dream School Academy</a>
      <nav>
        <a href="study.html">Study</a>
        <a class="active" href="practice.html">Practice</a>
        <a href="contactus.html">Contact Us</a>
      </nav>
    </div>
  </header>

  <main>
    <div class="card" id="quiz-card" role="region" aria-label="Linear equations quiz">
      <div class="bar">
        <h1>Linear Equations (1 Variable) — 5-Question Quiz</h1>
        <div class="muted"><span id="progress-count">1</span>/<span id="total-count">5</span></div>
      </div>

      <!-- progress dots -->
      <div class="dots" id="dots" aria-hidden="true"></div>

      <!-- question -->
      <div id="q-stem" class="q-stem"></div>
      <div id="q-choices" class="choices"></div>

      <!-- nav -->
      <div class="nav">
        <button id="prev" class="btn secondary">Back</button>
        <button id="next" class="btn secondary">Next</button>
        <button id="submit" class="btn">Submit</button>
      </div>
      <p class="muted" style="margin-top:8px">One question at a time. You can change answers before you submit.</p>
    </div>

    <!-- results -->
    <div class="card results" id="results" style="display:none">
      <h2>Results — Linear Equations (1 Variable)</h2>
      <p class="score"><span id="score"></span></p>
      <div class="hr"></div>
      <div id="review"></div>
      <div class="nav">
        <a href="practice.html" class="btn secondary">Back to Practice</a>
        <button id="retry" class="btn">Retry Quiz</button>
      </div>
    </div>
  </main>

  <script>
    // -------- Data: 5 questions you provided ----------
    // Note: answers are 0-based indexes into choices[]
    const QUESTIONS = [
      {
        id: "26fac581",
        stem: "If 2(x − 5) + 3(x − 5) = 10, what is the value of x − 5?",
        choices: ["2","5","7","12"],
        answer: 0,
        rationale:
          "Combine like terms: 2(x−5)+3(x−5)=5(x−5)=10 ⇒ divide both sides by 5 ⇒ x−5=2.",
      },
      {
        id: "48bad848",
        stem: "Megan’s regular wage at her job is p dollars per hour for the first 8 hours of work in a day plus 1.5 times her regular hourly wage for hours in excess of 8 hours that day. On a given day, Megan worked for 10 hours, and her total earnings for that day were $137.50. What is Megan’s regular hourly wage?",
        choices: ["$11.75","$12.50","$13.25","$13.75"],
        answer: 1,
        rationale:
          "Set up: earnings = 8p + 2(1.5p) = 8p + 3p = 11p. Given $137.50 = 11p ⇒ p = 12.5 ⇒ $12.50.",
      },
      {
        id: "f0581e16",
        stem: "Alan drives an average of 100 miles each week. His car travels an average of 25 miles per gallon. Gas costs $4 per gallon. Alan wants to reduce his weekly gas expenditure by $5. Which equation can Alan use to determine how many fewer average miles, m, he should drive each week?",
        choices: [
          "(25/4)m = 95",
          "(25/4)m = 5",
          "(4/25)m = 95",
          "(4/25)m = 5"
        ],
        answer: 3,
        rationale:
          "Cost per mile = $4 ÷ 25 = (4/25). Weekly savings desired = $5. Set (4/25)m = 5.",
      },
      {
        id: "6e706172",
        stem: "A product costs $65 to make. It is sold for $100, and a salesperson earns a 20% commission of the sales price. Profit per unit equals the sales price minus (cost + commission). Which equation gives the number of units, u, the company sold to make a profit of $6,840?",
        choices: [
          "(100(1−0.2) − 65)u = 6,840",
          "(100 − 65)(1−0.2)u = 6,840",
          "0.8(100) − 65u = 6,840",
          "(0.2(100) + 65)u = 6,840"
        ],
        answer: 0,
        rationale:
          "Commission = 20% of 100 ⇒ 100(0.2). Net revenue after commission = 100(1−0.2). Profit per unit = 100(1−0.2) − 65. Multiply by u and set equal to 6,840.",
      },
      {
        id: "509cb1a6",
        stem: "In the equation 4x + 12 = a(x + 3)/2, a is constant. If the equation has infinitely many solutions, what is the value of a?",
        choices: ["0","3","8","12"],
        answer: 2,
        rationale:
          "Multiply by 2: 8x + 24 = a(x + 3). For identity (infinitely many solutions), sides match ⇒ a=8.",
      }
    ];

    // -------- Quiz state ----------
    let idx = 0;
    const answers = new Array(QUESTIONS.length).fill(null);

    // -------- DOM refs ----------
    const dotsEl = document.getElementById('dots');
    const stemEl = document.getElementById('q-stem');
    const choicesEl = document.getElementById('q-choices');
    const prevBtn = document.getElementById('prev');
    const nextBtn = document.getElementById('next');
    const submitBtn = document.getElementById('submit');
    const progressCount = document.getElementById('progress-count');
    const totalCount = document.getElementById('total-count');
    const resultsCard = document.getElementById('results');
    const quizCard = document.getElementById('quiz-card');
    const scoreEl = document.getElementById('score');
    const reviewEl = document.getElementById('review');
    const retryBtn = document.getElementById('retry');

    totalCount.textContent = QUESTIONS.length.toString();

    function buildDots(){
      dotsEl.innerHTML = '';
      QUESTIONS.forEach((_,i)=>{
        const d = document.createElement('span');
        d.className = 'dot' + (i===idx ? ' active':'') + (answers[i]!=null ? ' answered':'' );
        dotsEl.appendChild(d);
      });
    }

    function render(){
      const q = QUESTIONS[idx];
      progressCount.textContent = (idx+1).toString();
      buildDots();

      // stem
      stemEl.innerHTML = q.stem;

      // choices
      choicesEl.innerHTML = '';
      q.choices.forEach((text, i)=>{
        const id = `q${idx}_c${i}`;
        const wrap = document.createElement('label');
        wrap.className = 'choice';
        wrap.setAttribute('for', id);

        const radio = document.createElement('input');
        radio.type = 'radio';
        radio.name = `q${idx}`;
        radio.id = id;
        radio.value = i;

        if (answers[idx] === i) radio.checked = true;
        radio.addEventListener('change', ()=>{
          answers[idx] = i;
          buildDots();
          updateButtons();
        });

        const txt = document.createElement('div');
        txt.textContent = text;

        wrap.appendChild(radio);
        wrap.appendChild(txt);
        choicesEl.appendChild(wrap);
      });

      updateButtons();
    }

    function updateButtons(){
      prevBtn.disabled = idx === 0;
      nextBtn.disabled = idx === QUESTIONS.length-1;
      // allow submit anytime; we’ll warn if unanswered
      const allAnswered = answers.every(a=>a!==null);
      submitBtn.textContent = allAnswered ? 'Submit' : 'Submit (skip blanks)';
    }

    prevBtn.addEventListener('click', ()=>{ if(idx>0){ idx--; render(); }});
    nextBtn.addEventListener('click', ()=>{ if(idx<QUESTIONS.length-1){ idx++; render(); }});
    submitBtn.addEventListener('click', submitQuiz);
    retryBtn.addEventListener('click', ()=>{
      for(let i=0;i<answers.length;i++) answers[i]=null;
      idx=0; render();
      resultsCard.style.display='none';
      quizCard.style.display='block';
      window.scrollTo({top:0,behavior:'smooth'});
    });

    function submitQuiz(){
      // grade
      let correct = 0;
      const items = [];
      QUESTIONS.forEach((q, i)=>{
        const user = answers[i];
        const ok = user === q.answer;
        if(ok) correct++;

        items.push({
          id:q.id,
